# Maintainer:  Craig Gomez <craigacgomez at gmail.com>
# Contributor: Craig Gomez <craigacgomez at gmail.com>

pkgname=udev-zram
pkgver=1.0
pkgrel=1
pkgdesc="Swap on zRAM using a udev rule"
arch=('any')
url="https://wiki.archlinux.org/index.php/maximizing_performance#Swap_on_zRAM_using_a_udev_rule"
license=('GPL')
source=('modprobe-zram.conf'
	    'modules-load-zram.conf'
	    'zram.rules')
sha256sums=('a371a31653740e79bf8f4f5ffaf414d430a72cbf12696e55f6f2f2e9179c286c'
            '7cae41d1a46eef0abc265d3ffc4dabefdbb9994f2169505dd84e754121496cb6'
            'eda89a9a911d51fd1319f59fe0feaafef2a4c616aa929d55a5f11344745fbd96')

package() {
    install -dm755 "${pkgdir}/etc/modules-load.d"
    install -dm755 "${pkgdir}/etc/modprobe.d"
    install -dm755 "${pkgdir}/etc/udev/rules.d"
    install -Dm644 "${srcdir}/modprobe-zram.conf" "${pkgdir}/etc/modprobe.d/zram.conf"
    install -Dm644 "${srcdir}/modules-load-zram.conf" "${pkgdir}/etc/modules-load.d/zram.conf"
    install -Dm755 "${srcdir}/zram.rules" "${pkgdir}/etc/udev/rules.d/99-zram.rules"
}
